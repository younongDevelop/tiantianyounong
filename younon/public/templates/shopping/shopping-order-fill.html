<ion-view view-title="天天有农">
    <ion-content style="background-color: #efeff4;bottom:7rem" class="order-fill">
        <!--配送方式-->
        <!--送货上门-->
        <div style="width:100%;height:12.8rem;margin-top:1rem;background-color: #ffffff;z-index: 0" class="border-top-bottom" ng-if="formData.deliver_type=='定点自取'">
            <div class="title-font" style="padding:2rem;width: 100%">配送方式</div>
            <div style="padding-left:2rem;height: 6.2rem">
                <button class="little-white-font-button" ng-click="selectDeliverType('定点自取')">定点自取</button>
                <button class="little-black-font-button border-style" style="z-index: 0;margin-left: 3rem" ng-click="selectDeliverType('送货上门')">送货上门</button>
            </div>

        </div>

        <!--定点自取-->

        <div style="width:100%;height: 20.5rem;margin-top:1rem;background-color: #ffffff;z-index: 0" class="border-top-bottom" ng-if="formData.deliver_type!='定点自取'">
            <div class="title-font" style="padding:2rem;width: 100%">配送方式</div>
            <div style="padding-left:2rem;height: 6.2rem">
                <button class="little-black-font-button border-style" style="z-index: 0;" ng-click="selectDeliverType('定点自取')">定点自取</button>
                <button class="little-white-font-button" style="margin-left: 3rem" ng-click="selectDeliverType('送货上门')">送货上门</button>
            </div>
            <div style="height: 7.8rem;padding-left: 2rem;z-index: 0" class="border-top-style">
                <div style="font-size: 2.2rem;color: #666666;height: 100%;float: left;width: 9rem;line-height: 7.8rem">
                    送货时间
                </div>
                <div style="width:30rem;height: 3.6rem;margin-left:2rem;margin-top:2rem;float: left;text-align: center" class="border-style">
                    <select style=" -webkit-appearance: none;border: none;text-align: left;font-size: 2.2rem;color: #666666;
                    height: 2.2rem;margin-top: 0.2rem;width: 90%;line-height: 2.2rem"
                            ng-model="formData.deliver_time"
                            ng-options="o.value as o.value for o in formData.deliver_timeArr">
                    </select>
                    <i class="ion-ios-arrow-down" style="font-size: 2rem;color: #666666;"></i>
                </div>
            </div>
        </div>

        <!--地址-->
        <!--有默认地址的情况-->
        <div style="margin-top:1rem;height: 12.8rem;background-color: #fff;z-index: 0;
            font-size: 2.6rem;color: #4c4c4c" class="border-top-bottom" ng-if="formData.receiver_name" ng-click="getAddress(formData.deliver_type)">
            <div style="width:8rem;height: 100%" class="fl">
                <i class="ion-ios-location-outline" style="color:#39bf50;font-size: 4rem;margin-left:3rem;line-height: 12.8rem"></i>
            </div>
            <div style="margin-top:2.4rem;height: 3.4rem;line-height: 3.4rem" class="fl">
                <span>{{formData.receiver_name}}</span>
                <span style="margin-left:6.4rem">{{formData.deliver_phone}}</span>
            </div>
            <div style="margin-top:1rem;width:50rem;height: 3.4rem;line-height: 3.4rem" class="fl">
                {{formData.deliver_address}}
            </div>
            <div style="width: 6rem;height: 100%;text-align: center;position: absolute;right: 0;top: 4.4rem;" class="fr">
                <i class="ion-ios-arrow-right" style="font-size: 4rem;color: #666666;"></i>
            </div>
        </div>



        <!--选择收获地址-->
        <div style="margin-top:1rem;height: 12.8rem;background-color: #fff;z-index: 0;
            font-size: 2.6rem;color: #4c4c4c" class="border-top-bottom" ng-if="!formData.receiver_name" ng-click="getAddress(formData.deliver_type)">
            <div style="width:8rem;height: 100%" class="fl">
                <i class="ion-ios-location-outline" style="color:#39bf50;font-size: 4rem;margin-left:3rem;line-height: 12.8rem"></i>
            </div>
            <div style="margin-top:4.7rem;width:50rem;height: 3.4rem;line-height: 3.4rem" class="fl">
                {{addressTitle[formData.deliver_type]}}
            </div>
            <div style="width: 6rem;height: 100%;text-align: center;position: absolute;right: 0;top: 4.4rem;" class="fr">
                <i class="ion-ios-arrow-right" style="font-size: 4rem;color: #666666;"></i>
            </div>
        </div>

        <!--支付方式-->
        <!--在线支付-->
        <div style="width:100%;height: 12.8rem;margin-top:1rem;background-color: #ffffff;z-index: 0" class="border-top-bottom"
                ng-if="formData.payment_id==formData.pay_typeArr[0].id;">
            <div class="title-font" style="padding:2rem;width: 100%">支付方式</div>
            <div style="padding-left:2rem;height: 6.2rem">
                <button class="little-white-font-button" ng-click="selectPayType(formData.pay_typeArr[0])">{{formData.pay_typeArr[0].value}}</button>
                <button class="little-black-font-button border-style" style="z-index: 0;margin-left: 3rem" ng-click="selectPayType(formData.pay_typeArr[1])">{{formData.pay_typeArr[1].value}}</button>
            </div>
        </div>

        <!--货到付款-->
        <div style="width:100%;height: 12.8rem;margin-top:1rem;background-color: #ffffff;z-index: 0" class="border-top-bottom"
             ng-if="formData.payment_id==formData.pay_typeArr[1].id;">
            <div class="title-font" style="padding:2rem;width: 100%">支付方式</div>
            <div style="padding-left:2rem;height: 6.2rem">
                <button class="little-black-font-button border-style" style="z-index: 0;" ng-click="selectPayType(formData.pay_typeArr[0])">{{formData.pay_typeArr[0].value}}</button>
                <button class="little-white-font-button" style="margin-left: 3rem" ng-click="selectPayType(formData.pay_typeArr[1])">{{formData.pay_typeArr[1].value}}</button>
            </div>
        </div>










        <!--商品列表-->
        <ion-list style="margin-top:1rem;width: 100%">
            <ion-item ng-repeat="item in formData.items"  style="height: 19.4rem;padding: 0" class="border-top-bottom">
                <div style="height:15.2rem;" class="border-bottom-style">
                    <img ng-src="{{item.prod_images}}" style="margin:2rem;height: 11.2rem;
                        width:15rem;float: left">
                    <div style="float: left;">
                        <div style="margin:3rem 0 0 2rem;font-size: 2.6rem;color: #4c4c4c;line-height: 2.6rem;
                            text-overflow:ellipsis;overflow: hidden;white-space:nowrap;width:36rem">{{item.prod_name}}</div>
                        <div style="margin:4rem 0 0 2rem;font-size: 2.2rem;color: #4c4c4c;float: left;height: 3rem;
                  text-align: center;line-height: 2.6rem;">
                            <span style="float: left">数量</span>
                        </div>
                    </div>
                    <div style="float: right;margin-right: 2rem;font-size: 2.2rem;margin-top: 10rem ">x{{item.quantity}}</div>
                </div>

                <div style="float: right;color: #4c4c4c;font-size:2.2rem;margin-right: 2rem">小计：
                        <span class="attention" style="font-size:2.2rem;line-height: 4.1rem;    ">
                            ￥{{item.sum}}
                        </span>
                </div>
            </ion-item>
        </ion-list>

        <!--商品信息汇总-->

        <div style="margin-top:1rem;height: 10rem;width:100%;font-size: 2.4rem !important;color: #666666" class="text-div border-top-bottom">
            <!--<div style="padding:2rem 2rem 0 2rem;float: left;width: 100%;margin:0;line-height: 2rem" >-->
                <!--<div class="fl" style="margin:0">商品总重</div>-->
                <!--<div class="fr" style="margin:0">{{formData.weight}}kg</div>-->
            <!--</div>-->
            <div style="padding:2rem 2rem 0 2rem;float: left;width: 100%;margin:0;line-height: 2rem" >
                <div class="fl" style="margin:0">商品总金额</div>
                <div class="fr attention" style="margin:0">￥{{formData.totalMoney}}</div>
            </div>
            <div style="padding:2rem 2rem 0 2rem;float: left;width: 100%;margin:0;line-height: 2rem" >
                <div class="fl" style="margin:0">运费<span style="color:#9cdfa8;text-decoration: underline" ng-click="showRule()">(运费说明)</span></div>
                <div class="fr attention" style="margin:0">￥{{formData.deliver_charges}}</div>
            </div>
            <!--<div style="padding:2rem 2rem 0 2rem;float: left;width: 100%;margin:0;line-height: 2rem" >-->
                <!--<div class="fl" style="margin:0">运费减免</div>-->
                <!--<div class="fr attention" style="margin:0">￥{{formData.deliver_free}}</div>-->
            <!--</div>-->
            <!--<div style="padding:2rem 2rem 0 2rem;float: left;width: 100%;margin:0;line-height: 2rem" >-->
                <!--<div class="fl" style="margin:0">赠送积分</div>-->
                <!--<div class="fr" style="margin:0">0积分</div>-->
            <!--</div>-->
        </div>


    </ion-content>
    <div class="bar bar-footer" style="padding:0;height: 7rem;background-image: none">
        <div class="pull-left" style="line-height: 7rem;color: #4c4c4c;font-size: 2.2rem;margin-left:2rem">
            实付：
            <span class="attention" style="font-size: 2.8rem">￥{{formData.order_total}}</span>
        </div>
        <button  class="button pull-right" ng-click="submit()" style="height: 100%;top: 0;width: 22rem;
        background-color: #d95c5c;color: #ffffff;font-size: 3rem;border:0;right: 0;border-radius: 0">提交订单</button>
    </div>

</ion-view>